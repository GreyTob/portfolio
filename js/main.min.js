const slides=document.querySelectorAll(".slide");let xl=document.querySelectorAll(".xl");function activeSlidePlugin(e){slides[e].classList.add("active"),slides.forEach(e=>{e.addEventListener("click",()=>{slides.forEach(e=>{e.classList.remove("active")}),e.classList.add("active")})}),window.innerWidth<767?xl.forEach(e=>e.remove()):xl.forEach(e=>document.querySelector(".container.container").append(e))}window.addEventListener("resize",()=>{window.innerWidth<767?xl.forEach(e=>e.remove()):xl.forEach(e=>document.querySelector(".container.container").append(e))});const max=slides.length,randomSlide=Math.floor(Math.random()*max);activeSlidePlugin(randomSlide),document.querySelector("form").onsubmit=e=>{e.preventDefault()},$(document).ready(function(){$("form").submit(function(){var t=$(this);return $.ajax({type:"POST",url:"mail.php",data:t.serialize()}).done(function(){document.querySelector("#formSend").textContent="Отправка...",setTimeout(function(){const e=document.querySelector("#formSend");e.textContent="Отправлено",t.trigger("reset")},1500),setTimeout(function(){const e=document.querySelector("#formSend");e.textContent="Отправить"},5e3)}),!1})}),function(){"use strict";function e(e){const t=document.getElementById(e.mainElement);var o=t.getElementsByTagName("section"),e={container:t,sections:o,animateTime:e.animateTime||.7,animateFunction:e.animateFunction||"ease",maxPosition:o.length-1,currentPosition:0,displayDots:void 0===e.displayDots||e.displayDots,dotsPosition:e.dotsPosition||"left"};this.defaults=e,this.init()}e.prototype.init=function(){this.buildPublicFunctions().buildSections().buildDots().addEvents();var e=location.hash.replace("#","").split("/")[0];location.hash=0,this.changeCurrentPosition(e),this.registerIeTags()},e.prototype.buildSections=function(){const t=this.defaults.sections;for(let e=0;e<t.length;e++)t[e].setAttribute("data-index",e);return this},e.prototype.buildDots=function(){this.ul=document.createElement("ul"),this.ul.className=this.updateClass(1,"dots",this.ul.className),this.ul.className=this.updateClass(1,"right"==this.defaults.dotsPosition?"dots-right":"dots-left",this.ul.className);var t=this.defaults.sections;for(let e=0;e<t.length;e++){const o=document.createElement("li"),i=document.createElement("a");i.setAttribute("href","#"+e),o.appendChild(i),this.ul.appendChild(o)}return this.ul.childNodes[0].firstChild.className=this.updateClass(1,"active",this.ul.childNodes[0].firstChild.className),this.defaults.displayDots&&document.body.appendChild(this.ul),this},e.prototype.addEvents=function(){return document.addEventListener?(document.addEventListener("mousewheel",this.mouseWheelAndKey,!1),document.addEventListener("wheel",this.mouseWheelAndKey,!1),document.addEventListener("keyup",this.mouseWheelAndKey,!1),document.addEventListener("touchstart",this.touchStart,!1),document.addEventListener("touchend",this.touchEnd,!1),window.addEventListener("hashchange",this.hashChange,!1),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&("ontouchstart"in window||(document.body.style="overflow: scroll;",document.documentElement.style="overflow: scroll;"))):(document.attachEvent("onmousewheel",this.mouseWheelAndKey,!1),document.attachEvent("onkeyup",this.mouseWheelAndKey,!1)),this},e.prototype.buildPublicFunctions=function(){let t=0,o=0,i=this;return this.mouseWheelAndKey=function(e){0<e.deltaY||40==e.keyCode?(i.defaults.currentPosition++,i.changeCurrentPosition(i.defaults.currentPosition)):(e.deltaY<0||38==e.keyCode)&&(i.defaults.currentPosition--,i.changeCurrentPosition(i.defaults.currentPosition)),i.removeEvents()},this.touchStart=function(e){t=parseInt(e.changedTouches[0].clientY),o=0},this.touchEnd=function(e){o=parseInt(e.changedTouches[0].clientY),(100<o-t||100<t-o)&&(o>t?i.defaults.currentPosition--:i.defaults.currentPosition++,i.changeCurrentPosition(i.defaults.currentPosition))},this.hashChange=function(e){var t;!location||""!==(t=location.hash.replace("#","").split("/")[0])&&(t<0?i.changeCurrentPosition(0):t>i.defaults.maxPosition?i.changeCurrentPosition(i.defaults.maxPosition):(i.defaults.currentPosition=t,i.animateScroll()))},this.removeEvents=function(){document.addEventListener?(document.removeEventListener("mousewheel",this.mouseWheelAndKey,!1),document.removeEventListener("wheel",this.mouseWheelAndKey,!1),document.removeEventListener("keyup",this.mouseWheelAndKey,!1),document.removeEventListener("touchstart",this.touchStart,!1),document.removeEventListener("touchend",this.touchEnd,!1)):(document.detachEvent("onmousewheel",this.mouseWheelAndKey,!1),document.detachEvent("onkeyup",this.mouseWheelAndKey,!1)),setTimeout(function(){i.addEvents()},600)},this.animateScroll=function(){var e=this.defaults.animateTime,t=this.defaults.animateFunction,o=100*this.defaults.currentPosition;this.defaults.container.style.webkitTransform="translateY(-"+o+"%)",this.defaults.container.style.mozTransform="translateY(-"+o+"%)",this.defaults.container.style.msTransform="translateY(-"+o+"%)",this.defaults.container.style.transform="translateY(-"+o+"%)",this.defaults.container.style.webkitTransition="all "+e+"s "+t,this.defaults.container.style.mozTransition="all "+e+"s "+t,this.defaults.container.style.msTransition="all "+e+"s "+t,this.defaults.container.style.transition="all "+e+"s "+t;for(let e=0;e<this.ul.childNodes.length;e++)this.ul.childNodes[e].firstChild.className=this.updateClass(2,"active",this.ul.childNodes[e].firstChild.className),e==this.defaults.currentPosition&&(this.ul.childNodes[e].firstChild.className=this.updateClass(1,"active",this.ul.childNodes[e].firstChild.className))},this.changeCurrentPosition=function(e){""!==e&&(i.defaults.currentPosition=e,location.hash=i.defaults.currentPosition)},this.registerIeTags=function(){document.createElement("section")},this.updateClass=function(e,t,o){return 1==e?o+" "+t:2==e?o.replace(t,""):void 0},this},window.fullScroll=e}(),new fullScroll({mainElement:"main",displayDots:!0,dotsPosition:"right",animateTime:.8,animateFunction:"cubic-bezier(0.68, -0.6, 0.32, 1.6)"});const timeTitle=document.querySelector("#timeTitle"),timeList=document.querySelector(".time-list"),timeEl=document.querySelector("#time"),board=document.querySelector("#board"),total=document.querySelector("#total"),gameReboot=document.querySelector("#gameReboot"),theBest=document.querySelector(".theBest");let interval=null;const boardTitle=document.querySelector("#board h2"),arrowLeft=document.querySelector("#arrowLeft"),arrowRight=document.querySelector("#arrowRight"),dots=document.querySelector(".dots"),controls=document.querySelector(".controls"),mSlide=document.querySelector(".main-slide"),sideBar=document.querySelector(".sidebar"),circleColor=["#e5194a","#fdd816","#3baa36","#32bce9","#e0dbc5","#fbf0a3"];let time=0,score=0,bestScore=0;function startGame(){document.querySelector(".works").removeEventListener("touchstart",handleTouchStart,!1),document.querySelector(".works").removeEventListener("touchmove",handleTouchMove,!1),interval=setInterval(decreseTime,1e3),createRandomCircle(),setTime(time),timeTitle.classList.remove("hide"),boardTitle.classList.add("hide"),timeList.classList.add("hide"),arrowLeft.classList.add("hide"),arrowRight.classList.add("hide"),dots.classList.add("hide"),controls.classList.add("hide"),setTimeout(()=>{arrowLeft.style.display="none",arrowRight.style.display="none",dots.style.display="none",controls.style.display="none",timeList.style.display="none",gameReboot.style.display="none"},300),mSlide.style.width="100%",mSlide.style.left=0,sideBar.style.width=0}function decreseTime(){0===time?(clearInterval(interval),finishGame()):(--time,setTime(time))}function setTime(e){timeEl.innerHTML="60"==e?"01:00":e<10?`00:0${e}`:`00:${e}`}function finishGame(){total.innerHTML=`Cчет: <span class='primary'>${score}</span>`,total.classList.remove("hide"),gameReboot.classList.remove("hide"),timeTitle.classList.add("hide"),document.querySelector(".circle").remove(),arrowLeft.classList.remove("hide"),arrowRight.classList.remove("hide"),dots.classList.remove("hide"),dots.style.transition="all 0.3s ease",controls.classList.remove("hide"),setTimeout(()=>{arrowLeft.style.display="block",arrowRight.style.display="block",dots.style.display="block",controls.style.display="block",timeList.style.display="block",gameReboot.style.display="block"},300),mSlide.style.width="65%",mSlide.style.left="35%",sideBar.style.width="35%",bestOfScore(),document.querySelector(".works").addEventListener("touchstart",handleTouchStart,!1),document.querySelector(".works").addEventListener("touchmove",handleTouchMove,!1)}function bestOfScore(){score>bestScore&&(bestScore=score),theBest.classList.remove("hide"),theBest.textContent=`Твой лучший результат: ${bestScore}`}function restartGame(){time=0,score=0,total.classList.add("hide"),timeTitle.classList.add("hide"),boardTitle.classList.remove("hide"),timeList.classList.remove("hide"),gameReboot.classList.add("hide")}function setColorCircle(e){return circleColor[Math.floor(Math.random()*e.length)]}function createRandomCircle(){const e=document.createElement("div");e.classList.add("circle"),e.style.background=setColorCircle(circleColor);var t=getRandonNumber(20,60),{width:o,height:i}=board.getBoundingClientRect(),o=getRandonNumber(0,o-t),i=getRandonNumber(0,i-t);e.style.top=`${i}px`,e.style.left=`${o}px`,e.style.width=`${t}px`,e.style.height=`${t}px`,board.append(e)}function getRandonNumber(e,t){return Math.round(Math.random()*(t-e)+e)}timeList.addEventListener("click",e=>{e.target.classList.contains("time-btn")&&(time=+e.target.getAttribute("data-time"),startGame())}),board.addEventListener("click",e=>{e.target.classList.contains("circle")&&(score++,e.target.remove(),createRandomCircle())}),gameReboot.addEventListener("click",restartGame);const upBtn=document.querySelector(".up-button"),downBtn=document.querySelector(".down-button"),arrLeft=document.querySelector("#arrowLeft"),arrRight=document.querySelector("#arrowRight"),container=document.querySelector(".works"),sidebar=document.querySelector(".sidebar"),mainSlide=document.querySelector(".main-slide"),slideCount=mainSlide.querySelectorAll("div").length;let activeSlideIndex=0;function changeSlide(e){"up"===e?(activeSlideIndex++,activeSlideIndex===slideCount&&(activeSlideIndex=0)):(activeSlideIndex--,activeSlideIndex<0&&(activeSlideIndex=slideCount-1));e=container.clientHeight;mainSlide.style.transform=`translateY(-${activeSlideIndex*e}px)`,sidebar.style.transform=`translateY(${activeSlideIndex*e}px)`}sidebar.style.top=`-${100*(slideCount-1)}vh`,upBtn.addEventListener("click",()=>{changeSlide("up")}),downBtn.addEventListener("click",()=>{changeSlide("down")}),arrRight.addEventListener("click",()=>{changeSlide("up")}),arrLeft.addEventListener("click",()=>{changeSlide("down")}),document.addEventListener("keydown",e=>{"ArrowRight"===e.key?changeSlide("up"):"ArrowLeft"===e.key&&changeSlide("down")});let touchX=null,touchY=null;function handleTouchStart(e){touchX=e.touches[0].clientX,touchY=e.touches[0].clientY}function handleTouchMove(e){if(!touchX&&touchY)return!1;var t=e.touches[0].clientX,e=e.touches[0].clientY,t=touchX-t,e=touchY-e;Math.abs(t)>Math.abs(e)&&changeSlide(0<t?"up":"down"),touchX=null,touchY=null}document.querySelector(".works").addEventListener("touchstart",handleTouchStart,!1),document.querySelector(".works").addEventListener("touchmove",handleTouchMove,!1),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".loader-wrapper"),t=document.querySelector(".wrapper");setTimeout(()=>{t.style.display="block"},1200),setTimeout(()=>{e.style.opacity=0,t.style.opacity=1,setTimeout(()=>{e.style.display="none"},400)},1500)});